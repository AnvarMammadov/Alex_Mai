{
    "meta": {
        "version": "2.0.0",
        "locale": "en-US",
        "character": {
            "id": "mai",
            "displayName": "Mai",
            "typingDelaysMs": {
                "min": 600,
                "max": 1800
            },
            "availableHours": [ 9, 24 ]
        }
    },
    "nlp": {
        "similarity": {
            "threshold": 0.72,
            "fallbackThreshold": 0.45
        },
        "intents": [
            {
                "id": "greeting",
                "keywords": [ "hi", "hey", "hello", "yo", "heya", "good morning", "sup" ],
                "regex": "(?i)^(hi|hey|hello|yo|greetings|sup)\\b"
            },
            {
                "id": "status_positive",
                "keywords": [ "fine", "good", "great", "amazing", "happy", "cool", "vibing", "chilling" ],
                "regex": "(?i)(fine|good|great|happy|cool|vibing|chill)"
            },
            {
                "id": "status_negative",
                "keywords": [ "bad", "sad", "tired", "bored", "exhausted", "terrible", "stressed", "lonely" ],
                "regex": "(?i)(bad|sad|tired|bored|exhausted|terrible|stressed|lonely)"
            },
            {
                "id": "flirt",
                "keywords": [ "cute", "beautiful", "pretty", "love you", "miss you", "date", "hot", "sexy", "angel", "sweetheart" ],
                "regex": "(?i)(cute|beautiful|love you|miss you|date|hot|sexy|angel)"
            },
            {
                "id": "plan_suggest",
                "keywords": [ "lets go out", "hang out", "cinema", "coffee", "drink", "walk", "park", "eat", "dinner", "movie" ],
                "regex": "(?i)(go out|hang out|plan|cinema|coffee|park|dinner|movie)"
            },
            {
                "id": "busy_ask",
                "keywords": [ "what are you doing", "busy?", "wyd", "studying?", "working?", "up to" ],
                "regex": "(?i)(what.*doing|wyd|busy|up to)"
            },
            {
                "id": "ask_about_mai",
                "keywords": [ "how are you", "how's it going", "you okay", "you alright" ],
                "regex": "(?i)(how are you|how.s it going|you ok|you alright)"
            },
            {
                "id": "ask_about_player_day",
                "keywords": [ "my day", "today was", "wanna hear", "long day", "rough day" ],
                "regex": "(?i)(my day|today was|rough day|long day)"
            },
            {
                "id": "joke",
                "keywords": [ "lol", "lmao", "rofl", "haha", "funny", "youre funny" ],
                "regex": "(?i)(lol|lmao|rofl|haha|funny)"
            },
            {
                "id": "thanks",
                "keywords": [ "thanks", "thank you", "ty", "appreciate it" ],
                "regex": "(?i)(thanks|thank you|appreciate it|ty)"
            },
            {
                "id": "goodnight",
                "keywords": [ "good night", "gn", "going to sleep", "sleep now" ],
                "regex": "(?i)(good night|gn|going to sleep|sleep now)"
            },
            {
                "id": "goodmorning",
                "keywords": [ "good morning", "morning", "gm" ],
                "regex": "(?i)^(good morning|gm|morning)\\b"
            },
            {
                "id": "study_talk",
                "keywords": [ "exam", "homework", "assignment", "study", "studying", "test" ],
                "regex": "(?i)(exam|homework|assignment|study|studying|test)"
            },
            {
                "id": "game_talk",
                "keywords": [ "game", "gaming", "anime", "manga", "visual novel", "vn" ],
                "regex": "(?i)(game|gaming|anime|manga|visual novel|vn)"
            }
        ]
    },
    "state": {
        "variables": {
            "day": 1,
            "timeOfDay": "morning",
            "affinityMai": 10,
            "stress": 0,
            "flags": {
                "isDating": false,
                "seenFirstPhoto": false,
                "unlockedParkEvent": false
            }
        }
    },
    "triggers": [
        {
            "id": "park_checkin",
            "condition": "Location == park && TimeOfDay == Afternoon",
            "dialogId": "mai_park_msg",
            "chance": 1.0,
            "repeatable": false
        },
        {
            "id": "random_miss_you",
            "condition": "TimeOfDay == Evening && Location == part_time",
            "dialogId": "mai_miss_msg",
            "chance": 0.5,
            "repeatable": true
        }
    ],
    "dialogs": [
        {
            "id": "mai_initial",
            "when": {
                "day": [ 1 ]
            },
            "history": [
                {
                    "sender": "Mai",
                    "textOptions": [
                        "Hey {playerName}! ğŸ‘‹ Finally caught you online.",
                        "Hi  {playerName}! âœ¨ How's your day going?",
                        "Yo {playerName}~ I need a distraction from studying ğŸ“š",
                        "{playerName}! I was literally just thinking about you ğŸ‘€"
                    ]
                }
            ],
            "choices": [
                {
                    "playerText": "Hey Mai! I'm doing great.",
                    "intent": "status_positive",
                    "goTo": "mai_resp_status_pos",
                    "effects": { "affinityMai": { "add": 2 } }
                },
                {
                    "playerText": "Honestly? I'm exhausted.",
                    "intent": "status_negative",
                    "goTo": "mai_resp_status_neg",
                    "effects": { "affinityMai": { "add": 1 } }
                },
                {
                    "playerText": "You look cute today ğŸ˜‰",
                    "intent": "flirt",
                    "goTo": "mai_resp_flirt_generic",
                    "effects": { "affinityMai": { "add": 5 } }
                },
                {
                    "playerText": "What are you up to?",
                    "intent": "busy_ask",
                    "goTo": "mai_resp_activity"
                },
                {
                    "playerText": "How are you?",
                    "intent": "ask_about_mai",
                    "goTo": "mai_resp_ask_mai"
                },
                {
                    "playerText": "Letâ€™s go somewhere.",
                    "intent": "plan_suggest",
                    "goTo": "mai_resp_plan_suggest"
                },
                {
                    "playerText": "I had a long dayâ€¦",
                    "intent": "ask_about_player_day",
                    "goTo": "mai_resp_player_day"
                },
                {
                    "playerText": "That was funny lol",
                    "intent": "joke",
                    "goTo": "mai_resp_joke"
                },
                {
                    "playerText": "Thanks Mai",
                    "intent": "thanks",
                    "goTo": "mai_resp_thanks"
                },
                {
                    "playerText": "Good night Mai",
                    "intent": "goodnight",
                    "goTo": "mai_resp_goodnight"
                },
                {
                    "playerText": "Good morning Mai",
                    "intent": "goodmorning",
                    "goTo": "mai_resp_goodmorning"
                },
                {
                    "playerText": "Something about exams/homework",
                    "intent": "study_talk",
                    "goTo": "mai_resp_study"
                },
                {
                    "playerText": "Talking about games/anime",
                    "intent": "game_talk",
                    "goTo": "mai_resp_game_talk"
                },
                {
                    "playerText": "__free_text__",
                    "fallback": true,
                    "goTo": "mai_resp_fallback_dynamic"
                }
            ]
        },
        {
            "id": "mai_park_msg",
            "history": [
                {
                    "sender": "Mai",
                    "text": "Hey Alex! ğŸŒ³ I saw you went to the park. Is the weather nice?"
                }
            ],
            "choices": [
                {
                    "playerText": "Yeah, it's beautiful here.",
                    "intent": "status_positive",
                    "goTo": "mai_resp_status_pos",
                    "effects": { "affinityMai": { "add": 1 } }
                },
                {
                    "playerText": "It's okay, just clearing my head.",
                    "intent": "status_negative",
                    "goTo": "mai_resp_status_neg"
                }
            ]
        },
        {
            "id": "mai_miss_msg",
            "history": [
                {
                    "sender": "Mai",
                    "text": "Working hard? ğŸ’ª Don't forget to take a break. Miss you at home!"
                }
            ],
            "choices": [
                {
                    "playerText": "Miss you too, Mai.",
                    "intent": "flirt",
                    "goTo": "mai_resp_flirt_generic",
                    "effects": { "affinityMai": { "add": 2 } }
                },
                {
                    "playerText": "Thanks, almost done.",
                    "intent": "thanks",
                    "goTo": "mai_resp_thanks"
                }
            ]
        }
    ],

    "responseMessages": {
        "mai_resp_status_pos": [
            {
                "condition": "Affection > 30",
                "sender": "Mai",
                "textOptions": [
                    "Yay!! Hearing that from you makes my day 100x better ğŸ¥°",
                    "Good mood {playerName}? I love that for us âœ¨",
                    "If you're happy, I'm happy. Simple math ğŸ’•"
                ]
            },
            {
                "condition": "Stress > 50",
                "sender": "Mai",
                "textOptions": [
                    "Lucky youâ€¦ I'm drowning in assignments over here ğŸ˜­",
                    "Send me some of that good mood, I'm in homework hell rn ğŸ˜©"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "That's awesome! Keep that vibe going âœ¨",
                    "Good to hear! Better than being bored like me lol.",
                    "Nicee, that's the energy I wanted to hear today ğŸ˜"
                ]
            }
        ],
        "mai_resp_status_neg": [
            {
                "condition": "Affection > 20",
                "sender": "Mai",
                "textOptions": [
                    "Oh noâ€¦ ğŸ¥º Do you want to talk about it? I'm here.",
                    "Come here, virtual hug time ğŸ«‚ You don't have to deal with it alone.",
                    "That sounds roughâ€¦ Tell me what happened, Iâ€™ll listen."
                ]
            },
            {
                "condition": "Stress > 60",
                "sender": "Mai",
                "textOptions": [
                    "Same tbh. Life is just side quests of stress lately ğŸ˜µâ€ğŸ’«",
                    "We should start a \"tired club\". Entry fee: one complaint each ğŸ˜ª"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Sorry to hear that. Maybe some rest will help? ğŸ˜´",
                    "That sucksâ€¦ but hey, you're still here, and Iâ€™m proud of you for that ğŸ’›",
                    "Today might be trash, but tomorrow can still be better. Iâ€™m rooting for you âœŠ"
                ]
            }
        ],
        "mai_resp_flirt_generic": [
            {
                "condition": "Affection > 35",
                "sender": "Mai",
                "textOptions": [
                    "Omg stoppp, you're making me blush over here ğŸ˜³ğŸ’“",
                    "You're gonna give me heart damage talking like that ğŸ˜µâ€ğŸ’˜",
                    "You know exactly what you're doing, donâ€™t you? ğŸ˜‰"
                ]
            },
            {
                "condition": "Affection < 10",
                "sender": "Mai",
                "textOptions": [
                    "Uhhâ€¦ thanks? We barely know each other though ğŸ˜…",
                    "Woah there, speedrunner ğŸ˜³ Maybe slow down just a little?"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Haha, you're kind of a charmer, huh? ğŸ˜",
                    "Thanks~ I'll remember you said that âœ¨",
                    "Careful, if you keep talking like that I might start liking you more ğŸ˜Œ"
                ]
            }
        ],
        "mai_resp_activity": [
            {
                "condition": "Stress > 60",
                "sender": "Mai",
                "textOptions": [
                    "Just suffering. Math is literally deleting my brain cells rn ğŸ¤¯",
                    "Studyingâ€¦ or at least pretending to while staring at the same page ğŸ˜µâ€ğŸ’«"
                ]
            },
            {
                "condition": "Affection > 25",
                "sender": "Mai",
                "textOptions": [
                    "Thinking about youâ€¦ and also watching Netflix, being productive as always ğŸ¤­",
                    "Mostly scrolling my phone and waiting for your messages if I'm honest ğŸ¥¹"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Nothing much, just chilling and scrolling through random stuff. You?",
                    "Just finished eating and now I'm in full lazy mode ğŸ±ğŸ˜´"
                ]
            }
        ],
        "mai_resp_ask_mai": [
            {
                "condition": "Affection > 20",
                "sender": "Mai",
                "textOptions": [
                    "I'm okay~ Better now that you're here actually ğŸ’•",
                    "Kinda tired, but seeing your name pop up helped a lot ğŸ˜Œ",
                    "Mentally: in pajamas. Physically: also in pajamas. Emotionally: attached to this chat ğŸ˜‚"
                ]
            },
            {
                "condition": "Stress > 50",
                "sender": "Mai",
                "textOptions": [
                    "Honestly? A bit overwhelmedâ€¦ but talking to you is my break ğŸ¥²",
                    "My brain is a browser with 27 tabs open. And 3 of them are frozen ğŸ˜µâ€ğŸ’«"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "I'm good! Just floating through the day like a little cloud â˜ï¸",
                    "Pretty normal day so far. Nothing excitingâ€¦ unless youâ€™re about to change that? ğŸ˜‰"
                ]
            }
        ],
        "mai_resp_player_day": [
            {
                "condition": "Affection > 25",
                "sender": "Mai",
                "textOptions": [
                    "Tell me everything. I want the detailed director's cut version ğŸ¬",
                    "Sit down, this is now a therapy chat. Iâ€™m listening â˜•ğŸ›‹ï¸",
                    "You know I care, right? Go on, Iâ€™m all ears ğŸ‘‚"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Sounds like a long dayâ€¦ Want to rant about it a bit?",
                    "If today was a movie, what genre would it be? Comedy, drama, horror? ğŸ˜…"
                ]
            }
        ],
        "mai_resp_plan_suggest": [
            {
                "condition": "isDating == true",
                "sender": "Mai",
                "textOptions": [
                    "Date idea time?? Say less, I'm already getting ready in my head ğŸ¥°",
                    "You wanna go out with *me*? Thatâ€™s an auto-yes, obviously ğŸ˜Œ"
                ]
            },
            {
                "condition": "Stress > 60",
                "sender": "Mai",
                "textOptions": [
                    "Can we do something low-energy? Like sitting somewhere and existing together ğŸ˜‚",
                    "Honestly I just want to grab a drink and complain about life with you â˜•"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Ooh, like what? Cafe, park, or something nerdy like arcade? ğŸ‘€",
                    "Yes please, get me out of the house. Where are we going, planner-san? ğŸ˜"
                ]
            }
        ],
        "mai_resp_joke": [
            {
                "condition": "Affection > 30",
                "sender": "Mai",
                "textOptions": [
                    "LMAO you always know how to make me laugh ğŸ˜‚",
                    "Stop, my cheeks hurt from smiling too much ğŸ˜†",
                    "You're dangerously close to being my favorite notification ğŸ“²"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "LOL that actually got me ğŸ˜‚",
                    "Pffttâ€” okay that was good, I'll give you that ğŸ˜",
                    "You're fun to talk to, you know that?"
                ]
            }
        ],
        "mai_resp_study": [
            {
                "condition": "Stress > 50",
                "sender": "Mai",
                "textOptions": [
                    "I hate studying but I hate failing more, so here we are ğŸ˜­",
                    "If I disappear, tell people the textbooks got me ğŸ“šâš°ï¸"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Exams are evil but we'll survive somehowâ€¦ probably ğŸ§ ",
                    "We should make a study pact. You suffer there, I suffer here, and we motivate each other ğŸ˜¤"
                ]
            }
        ],
        "mai_resp_game_talk": [
            {
                "condition": "Affection > 20",
                "sender": "Mai",
                "textOptions": [
                    "Wait you like that stuff too?? Ok, new topic unlocked ğŸ˜³",
                    "We should totally watch an anime or play something together one day ğŸ®",
                    "Careful, if we start talking about games/anime I might never shut up ğŸ˜…"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Nice taste ğŸ‘€ Tell me more about what youâ€™re into.",
                    "Okay but now Iâ€™m curiousâ€¦ whatâ€™s your comfort game/anime?"
                ]
            }
        ],
        "mai_resp_thanks": [
            {
                "condition": "Affection > 20",
                "sender": "Mai",
                "textOptions": [
                    "Anytime. You know Iâ€™ve got your back ğŸ’›",
                    "You don't have to thank me, but Iâ€™ll still take it ğŸ˜Œ",
                    "Thanks for trusting me enough to talk to me, too."
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "You're welcome~ âœ¨",
                    "No problem at all!",
                    "Of course. Thatâ€™s what Iâ€™m here for."
                ]
            }
        ],
        "mai_resp_goodnight": [
            {
                "condition": "Affection > 30",
                "sender": "Mai",
                "textOptions": [
                    "Good night, dummy ğŸ’• Dream about me, okay? ğŸ˜´",
                    "Sleep well and don't stay up overthinkingâ€¦ unless itâ€™s about me ğŸ˜",
                    "Rest well, you did your best today. Iâ€™m proud of you ğŸ«‚"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Good night! Sleep tight ğŸŒ™",
                    "Rest up, tomorrow needs a strong version of you âœ¨",
                    "Gnnn, donâ€™t scroll too long after this ğŸ˜´"
                ]
            }
        ],
        "mai_resp_goodmorning": [
            {
                "condition": "Affection > 25",
                "sender": "Mai",
                "textOptions": [
                    "Good morning sunshine â˜€ï¸ You checked your phone and saw **me** first, right? ğŸ˜",
                    "Morningg~ I hope today treats you gently ğŸ’›",
                    "You being here already makes my morning better âœ¨"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Good morning! Did you sleep well? ğŸ˜´",
                    "Morning! Letâ€™s survive another day together ğŸ’ª",
                    "Rise and shineâ€¦ or at least rise ğŸ˜…"
                ]
            }
        ],
        "mai_resp_fallback_dynamic": [
            {
                "condition": "Affection > 40",
                "sender": "Mai",
                "textOptions": [
                    "You always say the most chaotic but interesting things ğŸ˜‚",
                    "I could listen to you ramble all day ngl.",
                    "Even when I don't fully get it, I like hearing you talk ğŸ’•"
                ]
            },
            {
                "condition": "Stress > 70",
                "sender": "Mai",
                "textOptions": [
                    "My brain is fried, can you say that again but in baby mode? ğŸ˜µâ€ğŸ’«",
                    "I swear I read that three times and still went \"huh\" ğŸ˜‚ Simpler please?"
                ]
            },
            {
                "condition": "default",
                "sender": "Mai",
                "textOptions": [
                    "Wait, run that by me again? ğŸ¤”",
                    "Hmm, interesting... tell me more?",
                    "Idk what that means but I agree! ğŸ˜‚",
                    "That sounded kinda deep, not gonna lie.",
                    "You have such a unique way of saying things, I like it."
                ]
            }
        ]
    }
}
